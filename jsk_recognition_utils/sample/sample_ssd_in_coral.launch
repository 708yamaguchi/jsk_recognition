<launch>
  <arg name="INPUT_IMAGE" default="/kinect_head/rgb/image_rect_color" />
  <arg name="model_file" default="$(find coral_usb)/models/mobilenet_ssd_v2_coco_quant_postprocess_edgetpu.tflite"/>
  <arg name="label_file" default="$(find coral_usb)/models/coco_labels.txt"/>

  <node name="edgetpu_object_detector"
        pkg="coral_usb" type="edgetpu_object_detector.py"
        output="screen" respawn="true">
    <remap from="~input" to="$(arg INPUT_IMAGE)" />
    <rosparam subst_value="true" >
      model_file: $(arg model_file)
      label_file: $(arg label_file)
    </rosparam>
    <param name="score_thresh" value="0.2" />
  </node>
  
  <!-- <include file="$(find coral_usb)/launch/edgetpu_object_detector.launch"> -->
  <!--   <arg name="INPUT_IMAGE" value="/kinect_head/rgb/image_rect_color"/> -->
  <!-- </include> -->
  
  <node pkg="image_view" type="image_view" name="image_view" output="screen">
    <remap from="image" to="/image_cpi_decomposer/output"/>
  </node>
</launch>
